
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>DigitalOcean Provider: &#8212; Rambo 0.3.2.dev documentation</title>
    <link rel="stylesheet" href="../../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <script type="text/javascript" src="../../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <link rel="index" title="Index" href="../../genindex/" />
    <link rel="search" title="Search" href="../../search/" />
    <link rel="next" title="Docker Provider:" href="../docker/" />
    <link rel="prev" title="AWS EC2 Provider:" href="../aws-ec2/" />
   
  <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="digitalocean-provider">
<span id="digitalocean-provider"></span><h1>DigitalOcean Provider:<a class="headerlink" href="#digitalocean-provider" title="Permalink to this headline">¶</a></h1>
<div class="section" id="create-account">
<span id="create-account"></span><h2>Create Account<a class="headerlink" href="#create-account" title="Permalink to this headline">¶</a></h2>
<p>After you installed the dependencies on your host computer you now need to create an account at DigitalOcean.</p>
<p>This repo will create real resources on DigitalOcean so you need to provide DigitalOcean with valid payment and remember you might rack up a bill if you run a whole bunch of machines. You have been warned.</p>
</div>
<div class="section" id="create-ssh-keys">
<span id="create-ssh-keys"></span><h2>Create SSH Keys<a class="headerlink" href="#create-ssh-keys" title="Permalink to this headline">¶</a></h2>
<p>Next you need to create a SSH key pair for DigitalOcean.</p>
<p>Run*:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">mkdir</span> <span class="o">-</span><span class="n">p</span> <span class="n">auth</span><span class="o">/</span><span class="n">keys</span>
<span class="n">cd</span> <span class="n">auth</span><span class="o">/</span><span class="n">keys</span>
<span class="n">ssh</span><span class="o">-</span><span class="n">keygen</span> <span class="o">-</span><span class="n">t</span> <span class="n">rsa</span> <span class="o">-</span><span class="n">N</span> <span class="s1">&#39;&#39;</span> <span class="o">-</span><span class="n">f</span> <span class="s2">&quot;digitalocean.pem&quot;</span>
</pre></div>
</div>
<p>*If you want multiple users or computers to access the same DigitalOcean profile or team, you must have unique key names. For example, you will need to change the base name of your <code class="docutils literal notranslate"><span class="pre">.pem</span></code> and <code class="docutils literal notranslate"><span class="pre">.pem.pub</span></code> files to something else like <code class="docutils literal notranslate"><span class="pre">digitalocean-myname</span></code>.</p>
<p>Now go to <a class="reference external" href="https://cloud.digitalocean.com/settings/security">https://cloud.digitalocean.com/settings/security</a></p>
<p><strong>Create a new key and name the key the same as the base name of your SSH key. If DigitalOcean’s key name and the one one your host don’t match, you won’t communicate to your VM.</strong></p>
<p>Copy the contents of <code class="docutils literal notranslate"><span class="pre">digitalocean.pem.pub</span></code> into the new key field.</p>
<p>Here are instructions on how to setup SSH keys with DigitalOcean:</p>
<p><a class="reference external" href="https://www.digitalocean.com/community/tutorials/how-to-use-ssh-keys-with-digitalocean-droplets">https://www.digitalocean.com/community/tutorials/how-to-use-ssh-keys-with-digitalocean-droplets</a></p>
<p>You will need to copy the contents of <code class="docutils literal notranslate"><span class="pre">digitalocean.pem.pub</span></code>.</p>
<p><strong>NOTE: You need the <code class="docutils literal notranslate"><span class="pre">digitalocean.pem</span></code> file and the <code class="docutils literal notranslate"><span class="pre">digitalocean.pem.pub</span></code> file. The <code class="docutils literal notranslate"><span class="pre">digitalocean.pem</span></code> file needs permissions set to 600 and The <code class="docutils literal notranslate"><span class="pre">digitalocean.pem.pub</span></code> file needs permissions set to 644</strong></p>
<p>Be careful not to commit this file to the repo. We setup this repo to ignore all files ending in <code class="docutils literal notranslate"><span class="pre">.pem</span></code>. But, you could theoretically still commit the pem file (by forcing a commit for example).
Store this pem file in a safe place with restricted access. Anyone who has this file can log into your machines on DigitalOcean and run arbitrary commands on them.</p>
</div>
<div class="section" id="create-api-token">
<span id="create-api-token"></span><h2>Create API Token<a class="headerlink" href="#create-api-token" title="Permalink to this headline">¶</a></h2>
<p>Next you need to manually create an API access token on digitalocean.com</p>
<p>Go to:</p>
<p><a class="reference external" href="https://cloud.digitalocean.com/settings/api/">https://cloud.digitalocean.com/settings/api/</a></p>
<p><strong>NOTE: DigitalOcean will only show you this key ONCE.</strong></p>
<p>Store this token in a safe place with restricted access. Anyone who has this token can create, edit, or destroy resources on digital ocean, they could rack up a huge bill for you or shut down all your vms.</p>
</div>
<div class="section" id="edit-script-to-load-environment-variables">
<span id="edit-script-to-load-environment-variables"></span><h2>Edit Script to Load Environment Variables<a class="headerlink" href="#edit-script-to-load-environment-variables" title="Permalink to this headline">¶</a></h2>
<p>Here is the contents of the <code class="docutils literal notranslate"><span class="pre">digitalocean.env.sh</span></code> file. Edit it by replacing the placeholder tags with your key and token.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="ch">#!/bin/bash</span>

<span class="c1"># for digitalocean</span>
<span class="n">export</span> <span class="n">DIGITALOCEAN_TOKEN</span><span class="o">=&lt;</span><span class="n">YOUR</span> <span class="n">DIGITALOCEAN</span> <span class="n">API</span> <span class="n">TOKEN</span><span class="o">&gt;</span>
<span class="n">export</span> <span class="n">DIGITALOCEAN_PRIVATE_KEY_PATH</span><span class="o">=</span><span class="s2">&quot;auth/keys/digitalocean.pem&quot;</span>
</pre></div>
</div>
<p>Put your DigitalOcean API token in the line:
<code class="docutils literal notranslate"><span class="pre">export</span> <span class="pre">DIGITALOCEAN_TOKEN=&lt;YOUR</span> <span class="pre">DIGITALOCEAN</span> <span class="pre">API</span> <span class="pre">TOKEN&gt;</span></code></p>
<p>Put the <strong>path</strong> to your DigitalOcean ssh private key in the line:
<code class="docutils literal notranslate"><span class="pre">export</span> <span class="pre">DIGITALOCEAN_PRIVATE_KEY_PATH=&lt;PATH</span> <span class="pre">TO</span> <span class="pre">YOUR</span> <span class="pre">PRIVATE</span> <span class="pre">KEY&gt;</span></code></p>
<p>After editing, your <code class="docutils literal notranslate"><span class="pre">digitalocean.env.sh</span></code> file will look similar to this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="ch">#!/bin/bash</span>

<span class="c1"># for digitalocean</span>
<span class="n">export</span> <span class="n">DIGITALOCEAN_TOKEN</span><span class="o">=</span><span class="s2">&quot;0bf1d884e737417e2ea6f7a29c6035752bf8c31b366489c5366745dad62a8132&quot;</span>
<span class="n">export</span> <span class="n">DIGITALOCEAN_PRIVATE_KEY_PATH</span><span class="o">=</span><span class="s2">&quot;auth/keys/digitalocean.pem&quot;</span>
</pre></div>
</div>
<p>Note: the public key must be in the same dir as the private key and the public key must share the same base name as the private key (just append “.pub” on the public key file’s name)</p>
<p>Now you need to source the <code class="docutils literal notranslate"><span class="pre">digitalocean.env.sh</span></code> file. cd into the repo and run:</p>
<p><code class="docutils literal notranslate"><span class="pre">source</span> <span class="pre">digitalocean.env.sh</span></code></p>
</div>
<div class="section" id="launching-your-digitalocean-instance">
<span id="launching-your-digitalocean-instance"></span><h2>Launching Your DigitalOcean Instance<a class="headerlink" href="#launching-your-digitalocean-instance" title="Permalink to this headline">¶</a></h2>
<p>Finally, run:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">rambo</span> <span class="n">up</span> <span class="o">-</span><span class="n">p</span> <span class="n">digitalocean</span>
<span class="n">rambo</span> <span class="n">ssh</span>
</pre></div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../../">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">DigitalOcean Provider:</a><ul>
<li><a class="reference internal" href="#create-account">Create Account</a></li>
<li><a class="reference internal" href="#create-ssh-keys">Create SSH Keys</a></li>
<li><a class="reference internal" href="#create-api-token">Create API Token</a></li>
<li><a class="reference internal" href="#edit-script-to-load-environment-variables">Edit Script to Load Environment Variables</a></li>
<li><a class="reference internal" href="#launching-your-digitalocean-instance">Launching Your DigitalOcean Instance</a></li>
</ul>
</li>
</ul>
<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../../">Documentation overview</a><ul>
      <li>Previous: <a href="../aws-ec2/" title="previous chapter">AWS EC2 Provider:</a></li>
      <li>Next: <a href="../docker/" title="next chapter">Docker Provider:</a></li>
  </ul></li>
</ul>
</div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../../_sources/providers/digitalocean.md.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search/" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2018, Michael Verhulst, Joseph Nix, Christopher Smith.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.7.1</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.10</a>
      
      |
      <a href="../../_sources/providers/digitalocean.md.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>